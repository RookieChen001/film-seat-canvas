var baseSize = 40,//座位基准大小
    baseSpace = 4,//座位基准间距
    seatArea = "01:一层,02:二层,03:巨幕大厅",//有些影院场次排期信息含有字段信息"sectionId":"01:前区,02:后区"，表示多层或多区域 01和02是id,前区和后区表示区域名称
    smallerFlag = false,//是否缩小
    seatData = [];//mock数据,分别对应1层、2层、巨幕
    largerFlag = false,//是否放大 
    smallerOnce = false,//缩小只执行一次
    seatIndexArr = [],//座位侧边索引
	seatSelectedArr = [];//已选择座位

window.onload = function(){
    //click事件延迟
    if ('addEventListener' in document) {
        document.addEventListener('DOMContentLoaded', function() {
            FastClick.attach(document.body);
        }, false);
    }
    seatModule.seatFloorArea();//楼层区域
    seatModule.seatFloorTab();//楼层切换
}

var seatModule = (function(){
	var seatData = null,//座位数据
		maxCanBuy = 0,//最多单次可买几张
        seatCount = 0,//座位总数
        maxRow = null,//最大行-座位索引
		canvas = document.getElementById("canvasSeat"),//事件监听只对当前路径有效,所以用两个画布分别画出座位图-显示用和座位路径-监听点击事件
        canvasImg = document.getElementById("canvasImg"),
        ctx = canvas.getContext('2d'),
        ctxImg = canvasImg.getContext('2d'),
        seatMap = new Map();//map用来存储座位图
	//生成座位图
    var getSeatMap = function(data){
        if(data && data.seat){
            var seatEmptyImg = new Image(),//普通空座位图片
                sectSelectedImg = new Image(),//已选择座位图片
                seatLockImg = new Image(),//已售座位图片
                seatLoveImg = new Image(),//情侣座位图片
                seatImg = null,//空座位、情侣座、已出售座位、选中座位图片对象
                seat = data.seat,//座位等信息，含可购买最多张、最大行列或偏移量、座位总数
                seatItem = null,//单纯座位信息
                mapWay = seat.regular,//座位排列方式true 使用行列，false使用坐标偏移
                col = null,//列
                row = null,//行
                maxCol = null,//最大列
                minCol = null,//最小列
                minRow = null,//最小行
                screeWidth = document.body.offsetWidth,//屏幕宽度
                maxCanvasW = null,//画布最大宽度
                maxCanvasH = null,//画布最大高度
                seatStatus = null,//座位状态:1：可售，0：不可售，-1：删除(非法)
                seatType = null,//座位标识0：普通座位，1：情侣首座(左座)，2：情侣第二座(右座)
                basePx = 30,//每个座位之间基准偏移
                seatExtId = null,//座位id
                seatIndexName = null;//座位名称信息-用来渲染座位侧边索引
            seatEmptyImg.src = "../img/seat-a.png";
            seatLockImg.src = "../img/seat-disabled.png";
            seatLoveImg.src = "../img/seat-love.png";
            sectSelectedImg.src = "../img/seat-selected.png";
            seatData = data;
            maxCanBuy = seat.maxCanBuy;
            seatCount = seat.seatCount;
            if(mapWay){//行列座位图
            	maxRow = seat.maxRow;
            	minRow = seat.minRow;
                maxCol = seat.maxColumn;
                minCol = seat.minColumn;
            }
            if(mapWay == false){//偏移量座位图 统一换成行列渲染
                maxRow = Math.floor(seat.maxTopPx/basePx);
            	minRow = Math.floor(seat.minTopPx/basePx);
                maxCol = Math.floor(seat.maxLeftPx/basePx);
                minCol = Math.floor(seat.minLeftPx/basePx);
            }
            //画布超出屏幕宽度,缩放一倍，选座的时候还原
            maxCanvasW = maxCol*baseSize + maxCol*baseSpace + baseSpace;
            maxCanvasH = maxRow*baseSize + maxRow*baseSpace + baseSpace;
            if(!smallerFlag){
                if(!smallerOnce && maxCanvasW/2>screeWidth-20){
                    baseSize = 20;
                    baseSpace = 2;
                    smallerFlag = true;
                    smallerOnce = true;
                }
            } else {
                smallerFlag = false;
            }
            //设置画布宽度高度
            canvas.width = maxCanvasW;
            canvas.height = maxCanvasH;
            canvas.style.width = maxCanvasW/2+'px';
            canvas.style.height = maxCanvasH/2+'px';
            canvasImg.width = maxCanvasW;
            canvasImg.height = maxCanvasH;
            canvasImg.style.width = maxCanvasW/2+'px';
            canvasImg.style.height = maxCanvasH/2+'px';
            (seatEmptyImg && seatLockImg && seatLoveImg && sectSelectedImg).onload = function(){
                var leftMove = 0,//左偏移
                    topMove = 0;//上偏移        
                for(var i=0;i<seatCount;i++){
                    seatItem = data.seat.seats[i];
                    seatItem.selected = false;//增加选中状态字段
                    seatExtId = seatItem.extId;
                    seatStatus = seatItem.status;
                    seatType = seatItem.flag;
                    if(mapWay && seatItem.column && seatItem.row){
	                    row = seatItem.row - minRow;
	                    col = seatItem.column- minCol;
	                }
	                if(mapWay == false && seatItem.leftPx && seatItem.topPx) {
	                    row = Math.floor(parseInt(seatItem.topPx/basePx))-minRow;
	                    col = Math.floor(parseInt(seatItem.leftPx/basePx))-minCol;
	                }
                    leftMove = col*baseSize + col*baseSpace + baseSpace;//距左偏移
                    topMove = row*baseSize + row*baseSpace + baseSpace;//距上偏移
                    if(seatStatus == 1){//1可售座位
                    	//选中的座位与座位图里座位进行匹配,如果匹配到绘制成已选中状态
                    	for(var j=0;j<seatSelectedArr.length;j++){
                    		if(seatSelectedArr[j].extId == seatExtId){
                    			seatItem.selected = true;
                    		}
                    	}
                    	if(seatItem.selected){//选中
                    		seatImg = sectSelectedImg;
                    	} else if(seatType ==1 || seatType ==2){//情侣座
                    		seatImg = seatLoveImg;
                        } else {//空座
                        	seatImg = seatEmptyImg;
                        }
                    } else {//已售座位
                    	seatImg = seatLockImg;
                    }
                    seatMap.set((row+1)+'排'+(col+1)+'座',seatItem);//以x排x座进行key值设置对应数据存放到map
                    ctxImg.drawImage(seatImg, leftMove, topMove,baseSize,baseSize);//座位图渲染
                    ctx.rect(leftMove, topMove,baseSize,baseSize);//座位路径绘制
                    ctx.fill();
                }
                getSeatIndex();//座位索引
            }      
        }
    }
    //监听画布事件
    var canvasEventClick =  function(){
    	canvas.addEventListener('click', function(e){
            baseSize = 40;
            baseSpace = 4;
            var point = getEventPosition(e),
            	//由于画布图片模糊问题,设置画布长宽是座位图渲染的2倍,所以画布单个座位实际大小是20x20
                canvBaseSize = baseSize/2,//画布座位大小
                canavBaseSpace = baseSpace/2,//画布座位间距
                px = point.x,
                py = point.y, 
            	x = Math.ceil(px / canvBaseSize),
            	y = Math.ceil(py / canvBaseSize),
  				row = Math.ceil((px-x*canavBaseSpace-canavBaseSpace) / canvBaseSize),
  				col = Math.ceil((py-y*canavBaseSpace-canavBaseSpace) / canvBaseSize),
                seatName = col+'排'+row+'座',
                selectedSeat = seatMap.get(seatName);//以x排x座key值获取对应座位信息
                //console.log(ctx.isPointInPath(px, py));//isPointInPath API有待研究
                //console.log(selectedSeat);
            if(selectedSeat){
                var selectedSeatType = null,//座位标识0：普通座位，1：情侣首座(左座)，2：情侣第二座(右座)
                	selectedStatus = null;//已选状态
                	seatSelectedLen = seatSelectedArr.length;//已选座位个数
                if(selectedSeat){
                	selectedSeatType = selectedSeat.flag,//座位标识0：普通座位，1：情侣首座(左座)，2：情侣第二座(右座)
                	selectedStatus = selectedSeat.selected;
                }
                if(!selectedStatus){
	                if(selectedSeatType==1 || selectedSeatType ==2){
	                	seatSelectedLen+=2;//情侣座每次选座选中两个位置
	                } else if(selectedSeatType ==0){
	                	seatSelectedLen+=1;//普通座每次选座选中1个位置
	                }	
	                if(seatSelectedLen > maxCanBuy){
		  				alert('最多只能选择'+maxCanBuy+'张');
		  				return;
		  			}
	  			}		
                getSeatInfo(selectedSeat);
                if(selectedSeatType == 1){
					seatName = col+'排'+(row+1)+'座';
					getSeatInfo(seatMap.get(seatName));
                } else if(selectedSeatType == 2){
            		seatName = col+'排'+(row-1)+'座';
            		getSeatInfo(seatMap.get(seatName));
                }
            }
        }, false);
    }
    //座位图点击数据交互 seatPosCol-座位座号 seatPosRow-座位排号 -处理情侣座关联选座
    var getSeatInfo = function(selectData){
    	if(selectData){
			var seatItemStatus = selectData.status,//座位状态:1：可售，0：不可售，-1：删除(非法)
			    seatItemType = selectData.flag,//座位标识0：普通座位，1：情侣首座(左座)，2：情侣第二座(右座)
			    seatItemSelected = selectData.selected,//是否已选中 true选中 false未选中
			    seatItemExtId = selectData.extId;//座位id
			if(selectData){
				if(seatItemStatus == 1){
					if(seatItemSelected){
						removeArray(seatItemExtId,seatSelectedArr);
					} else {
			  			seatSelectedArr.push(selectData);	
					}
				}
			}
		}
		seatSelectedArr = uniqueArray(seatSelectedArr);//数组去重
		getSeatMap(seatData);//渲染canvas
        seatSelectedShow();//选中座位信息显示
    }
    //获取点击x,y偏移量
    var getEventPosition = function(ev){
    	var x, y;
		if (ev.layerX || ev.layerX == 0) {
			x = ev.layerX;
			y = ev.layerY;
		} else if (ev.offsetX || ev.offsetX == 0) { // Opera
			x = ev.offsetX;
			y = ev.offsetY;
		}
		return {"x": x, "y": y};
    }
    //选中座位信息显示
    var seatSelectedShow = function(){
        var seatLen = seatSelectedArr.length,
            seatSelectedName = null,//选中座位名称
            seatSelectedExtId = null,//选中座位id
            seatHtml = '',
            seatTypeArea = document.querySelector(".movie-seat-type"),//座位类别展示区域
            seatInfoArea = document.querySelector(".movie-seat-info"),//座位信息展示区域
            seatSelectedArea = document.querySelector("#seatSelected");//选中座位区域
        if(seatLen ==0){
            seatTypeArea.style.display = 'block';
            seatInfoArea.style.display = 'none';
            seatHtml = '';
            return;
        }        
        for(var i=0;i<seatLen;i++){
            seatSelectedName = seatSelectedArr[i].name;
            seatSelectedExtId = seatSelectedArr[i].extId;
            seatHtml += '<li>'+seatSelectedName+'</li>';
        }
        seatTypeArea.style.display = 'none';
        seatInfoArea.style.display = 'block';
        seatSelectedArea.innerHTML = seatHtml;
    }
    //影院楼层或多区域
    var seatFloorArea = function(){
        if(seatArea){
            var floorArr = seatArea.split(',');
                seatFloor = document.querySelector('#seatTab'),
                floorName = null,//楼层名称
                floorId = null,//楼层id
                floorHtml = '';
            for(var i=0;i<floorArr.length;i++){
                floorId = floorArr[i].split(":")[0];
                floorName = floorArr[i].split(":")[1];
                if(i==0){//默认选中第一个区域
                    floorHtml +='<li class="active" id="'+floorId+'">'+floorName+'</li>'
                } else {
                    floorHtml +='<li id="'+floorId+'">'+floorName+'</li>'
                }
            }
            seatFloor.innerHTML = floorHtml;
            seatFloor.style.display = 'block';
            //默认显示第一个区域,偏移量方式数据
            seatData = {"success":true,"code":"0","message":"","data":{"userSeat":null,"seat":{"maxCanBuy":5,"maxColumn":null,"maxLeftPx":390,"maxRow":null,"maxTopPx":210,"minColumn":null,"minLeftPx":30,"minRow":null,"minTopPx":30,"notice":"1、选座票由鼎新提供，客服热线:0571-88157838\n2、请确认场次和时间无误，购买成功后将不予退换\n3、由于设备故障等不可抗力因素，存在少量场次取消的情况，会进行退票退款\n4、由于影院系统不稳定等因素，存在出票失败的情况，会进行退款","regular":false,"seatCount":89,"seats":[{"area":null,"column":null,"extId":"2191","flag":0,"leftPx":30,"name":"G排1座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2192","flag":0,"leftPx":60,"name":"G排2座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2193","flag":0,"leftPx":90,"name":"G排3座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2194","flag":0,"leftPx":120,"name":"G排4座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2195","flag":0,"leftPx":150,"name":"G排5座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2196","flag":0,"leftPx":180,"name":"G排6座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2197","flag":0,"leftPx":210,"name":"G排7座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2198","flag":0,"leftPx":240,"name":"G排8座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2199","flag":0,"leftPx":270,"name":"G排9座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2200","flag":0,"leftPx":300,"name":"G排10座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2201","flag":0,"leftPx":330,"name":"G排11座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2202","flag":0,"leftPx":360,"name":"G排12座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2203","flag":0,"leftPx":390,"name":"G排13座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2204","flag":0,"leftPx":30,"name":"F排1座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2205","flag":0,"leftPx":60,"name":"F排2座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2206","flag":0,"leftPx":90,"name":"F排3座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2207","flag":0,"leftPx":120,"name":"F排4座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2208","flag":0,"leftPx":150,"name":"F排5座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2209","flag":0,"leftPx":180,"name":"F排6座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2210","flag":0,"leftPx":210,"name":"F排7座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2211","flag":0,"leftPx":240,"name":"F排8座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2212","flag":0,"leftPx":270,"name":"F排9座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2213","flag":0,"leftPx":300,"name":"F排10座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2214","flag":0,"leftPx":330,"name":"F排11座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2215","flag":0,"leftPx":360,"name":"F排12座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2216","flag":0,"leftPx":390,"name":"F排13座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2217","flag":0,"leftPx":30,"name":"E排1座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2218","flag":0,"leftPx":60,"name":"E排2座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2219","flag":0,"leftPx":90,"name":"E排3座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2220","flag":0,"leftPx":120,"name":"E排4座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2221","flag":0,"leftPx":150,"name":"E排5座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2222","flag":0,"leftPx":180,"name":"E排6座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2223","flag":0,"leftPx":210,"name":"E排7座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2224","flag":0,"leftPx":240,"name":"E排8座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2225","flag":0,"leftPx":270,"name":"E排9座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2226","flag":0,"leftPx":300,"name":"E排10座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2227","flag":0,"leftPx":330,"name":"E排11座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2228","flag":0,"leftPx":360,"name":"E排12座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2229","flag":0,"leftPx":390,"name":"E排13座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2230","flag":0,"leftPx":30,"name":"D排1座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2231","flag":0,"leftPx":60,"name":"D排2座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2232","flag":0,"leftPx":90,"name":"D排3座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2233","flag":0,"leftPx":120,"name":"D排4座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2234","flag":0,"leftPx":150,"name":"D排5座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2235","flag":0,"leftPx":180,"name":"D排6座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2236","flag":0,"leftPx":210,"name":"D排7座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2237","flag":0,"leftPx":240,"name":"D排8座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2238","flag":0,"leftPx":270,"name":"D排9座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2239","flag":0,"leftPx":300,"name":"D排10座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2240","flag":0,"leftPx":330,"name":"D排11座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2241","flag":0,"leftPx":360,"name":"D排12座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2242","flag":0,"leftPx":390,"name":"D排13座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2244","flag":0,"leftPx":60,"name":"C排2座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2245","flag":0,"leftPx":90,"name":"C排3座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2246","flag":0,"leftPx":120,"name":"C排4座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2247","flag":0,"leftPx":150,"name":"C排5座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2248","flag":0,"leftPx":180,"name":"C排6座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2249","flag":0,"leftPx":210,"name":"C排7座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2250","flag":0,"leftPx":240,"name":"C排8座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2251","flag":0,"leftPx":270,"name":"C排9座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2252","flag":0,"leftPx":300,"name":"C排10座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2253","flag":0,"leftPx":330,"name":"C排11座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2254","flag":0,"leftPx":360,"name":"C排12座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2255","flag":0,"leftPx":390,"name":"C排13座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2257","flag":0,"leftPx":60,"name":"B排2座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2258","flag":0,"leftPx":90,"name":"B排3座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2259","flag":0,"leftPx":120,"name":"B排4座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2260","flag":0,"leftPx":150,"name":"B排5座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2261","flag":0,"leftPx":180,"name":"B排6座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2262","flag":0,"leftPx":210,"name":"B排7座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2263","flag":0,"leftPx":240,"name":"B排8座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2264","flag":0,"leftPx":270,"name":"B排9座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2265","flag":0,"leftPx":300,"name":"B排10座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2266","flag":0,"leftPx":330,"name":"B排11座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2267","flag":0,"leftPx":360,"name":"B排12座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2268","flag":0,"leftPx":390,"name":"B排13座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2269","flag":0,"leftPx":30,"name":"A排1座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2270","flag":0,"leftPx":60,"name":"A排2座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2271","flag":0,"leftPx":90,"name":"A排3座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2272","flag":0,"leftPx":120,"name":"A排4座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2273","flag":0,"leftPx":150,"name":"A排5座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2274","flag":0,"leftPx":180,"name":"A排6座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2275","flag":0,"leftPx":210,"name":"A排7座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2276","flag":0,"leftPx":240,"name":"A排8座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2277","flag":0,"leftPx":270,"name":"A排9座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2278","flag":0,"leftPx":300,"name":"A排10座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2279","flag":0,"leftPx":330,"name":"A排11座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2280","flag":0,"leftPx":360,"name":"A排12座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2281","flag":0,"leftPx":390,"name":"A排13座","row":null,"rowName":"A","status":1,"topPx":210}],"soldCount":0,"tipMessage":"您选择的是<b>后天 10-26</b>的场次，请看仔细哦"}}};
            if(seatData){
                getSeatMap(seatData.data);
            }
            //画布事件监听
            canvasEventClick();
            seatFloorTab();
        }
    }
    //楼层切换
    var seatFloorTab = function(){
        var floorE = document.querySelectorAll('#seatTab>li'),
            sectionId = null;//座位图数据获取的时候,有该参数就传;否则不传
        for (var i = 0; i < floorE.length; i++) {
            (function(index){
                floorE[i].addEventListener('click', function(e) {
                    //清空原来画布,数据初始
                    ctx.clearRect(0,0,canvas.width,canvas.height);
                    ctxImg.clearRect(0,0,canvasImg.width,canvasImg.height);
                    baseSize = 40;//座位基准大小
                    baseSpace = 4;//座位基准间距
                    largerFlag = false;//是否放大
                    smallerFlag = false;//是否缩小
                    smallerOnce = false;
                    seatIndexArr = [];
                    seatSelectedArr = [];
                    seatMap.clear();
                    seatSelectedShow();
                    //切换当前选中状态
                    for(var j=0;j<floorE.length;j++){
                        floorE[j].className = '';
                    }
                    floorE[index].className = 'active';
                    sectionId = floorE[index].getAttribute('id');
                    if(sectionId == "01"){//表示一层
                        //偏移量方式数据
                        seatData = {"success":true,"code":"0","message":"","data":{"userSeat":null,"seat":{"maxCanBuy":5,"maxColumn":null,"maxLeftPx":390,"maxRow":null,"maxTopPx":210,"minColumn":null,"minLeftPx":30,"minRow":null,"minTopPx":30,"notice":"1、选座票由鼎新提供，客服热线:0571-88157838\n2、请确认场次和时间无误，购买成功后将不予退换\n3、由于设备故障等不可抗力因素，存在少量场次取消的情况，会进行退票退款\n4、由于影院系统不稳定等因素，存在出票失败的情况，会进行退款","regular":false,"seatCount":89,"seats":[{"area":null,"column":null,"extId":"2191","flag":0,"leftPx":30,"name":"G排1座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2192","flag":0,"leftPx":60,"name":"G排2座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2193","flag":0,"leftPx":90,"name":"G排3座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2194","flag":0,"leftPx":120,"name":"G排4座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2195","flag":0,"leftPx":150,"name":"G排5座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2196","flag":0,"leftPx":180,"name":"G排6座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2197","flag":0,"leftPx":210,"name":"G排7座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2198","flag":0,"leftPx":240,"name":"G排8座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2199","flag":0,"leftPx":270,"name":"G排9座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2200","flag":0,"leftPx":300,"name":"G排10座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2201","flag":0,"leftPx":330,"name":"G排11座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2202","flag":0,"leftPx":360,"name":"G排12座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2203","flag":0,"leftPx":390,"name":"G排13座","row":null,"rowName":"G","status":1,"topPx":30},{"area":null,"column":null,"extId":"2204","flag":0,"leftPx":30,"name":"F排1座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2205","flag":0,"leftPx":60,"name":"F排2座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2206","flag":0,"leftPx":90,"name":"F排3座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2207","flag":0,"leftPx":120,"name":"F排4座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2208","flag":0,"leftPx":150,"name":"F排5座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2209","flag":0,"leftPx":180,"name":"F排6座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2210","flag":0,"leftPx":210,"name":"F排7座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2211","flag":0,"leftPx":240,"name":"F排8座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2212","flag":0,"leftPx":270,"name":"F排9座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2213","flag":0,"leftPx":300,"name":"F排10座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2214","flag":0,"leftPx":330,"name":"F排11座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2215","flag":0,"leftPx":360,"name":"F排12座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2216","flag":0,"leftPx":390,"name":"F排13座","row":null,"rowName":"F","status":1,"topPx":60},{"area":null,"column":null,"extId":"2217","flag":0,"leftPx":30,"name":"E排1座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2218","flag":0,"leftPx":60,"name":"E排2座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2219","flag":0,"leftPx":90,"name":"E排3座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2220","flag":0,"leftPx":120,"name":"E排4座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2221","flag":0,"leftPx":150,"name":"E排5座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2222","flag":0,"leftPx":180,"name":"E排6座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2223","flag":0,"leftPx":210,"name":"E排7座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2224","flag":0,"leftPx":240,"name":"E排8座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2225","flag":0,"leftPx":270,"name":"E排9座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2226","flag":0,"leftPx":300,"name":"E排10座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2227","flag":0,"leftPx":330,"name":"E排11座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2228","flag":0,"leftPx":360,"name":"E排12座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2229","flag":0,"leftPx":390,"name":"E排13座","row":null,"rowName":"E","status":1,"topPx":90},{"area":null,"column":null,"extId":"2230","flag":0,"leftPx":30,"name":"D排1座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2231","flag":0,"leftPx":60,"name":"D排2座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2232","flag":0,"leftPx":90,"name":"D排3座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2233","flag":0,"leftPx":120,"name":"D排4座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2234","flag":0,"leftPx":150,"name":"D排5座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2235","flag":0,"leftPx":180,"name":"D排6座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2236","flag":0,"leftPx":210,"name":"D排7座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2237","flag":0,"leftPx":240,"name":"D排8座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2238","flag":0,"leftPx":270,"name":"D排9座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2239","flag":0,"leftPx":300,"name":"D排10座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2240","flag":0,"leftPx":330,"name":"D排11座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2241","flag":0,"leftPx":360,"name":"D排12座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2242","flag":0,"leftPx":390,"name":"D排13座","row":null,"rowName":"D","status":1,"topPx":120},{"area":null,"column":null,"extId":"2244","flag":0,"leftPx":60,"name":"C排2座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2245","flag":0,"leftPx":90,"name":"C排3座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2246","flag":0,"leftPx":120,"name":"C排4座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2247","flag":0,"leftPx":150,"name":"C排5座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2248","flag":0,"leftPx":180,"name":"C排6座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2249","flag":0,"leftPx":210,"name":"C排7座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2250","flag":0,"leftPx":240,"name":"C排8座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2251","flag":0,"leftPx":270,"name":"C排9座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2252","flag":0,"leftPx":300,"name":"C排10座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2253","flag":0,"leftPx":330,"name":"C排11座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2254","flag":0,"leftPx":360,"name":"C排12座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2255","flag":0,"leftPx":390,"name":"C排13座","row":null,"rowName":"C","status":1,"topPx":150},{"area":null,"column":null,"extId":"2257","flag":0,"leftPx":60,"name":"B排2座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2258","flag":0,"leftPx":90,"name":"B排3座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2259","flag":0,"leftPx":120,"name":"B排4座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2260","flag":0,"leftPx":150,"name":"B排5座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2261","flag":0,"leftPx":180,"name":"B排6座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2262","flag":0,"leftPx":210,"name":"B排7座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2263","flag":0,"leftPx":240,"name":"B排8座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2264","flag":0,"leftPx":270,"name":"B排9座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2265","flag":0,"leftPx":300,"name":"B排10座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2266","flag":0,"leftPx":330,"name":"B排11座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2267","flag":0,"leftPx":360,"name":"B排12座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2268","flag":0,"leftPx":390,"name":"B排13座","row":null,"rowName":"B","status":1,"topPx":180},{"area":null,"column":null,"extId":"2269","flag":0,"leftPx":30,"name":"A排1座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2270","flag":0,"leftPx":60,"name":"A排2座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2271","flag":0,"leftPx":90,"name":"A排3座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2272","flag":0,"leftPx":120,"name":"A排4座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2273","flag":0,"leftPx":150,"name":"A排5座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2274","flag":0,"leftPx":180,"name":"A排6座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2275","flag":0,"leftPx":210,"name":"A排7座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2276","flag":0,"leftPx":240,"name":"A排8座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2277","flag":0,"leftPx":270,"name":"A排9座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2278","flag":0,"leftPx":300,"name":"A排10座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2279","flag":0,"leftPx":330,"name":"A排11座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2280","flag":0,"leftPx":360,"name":"A排12座","row":null,"rowName":"A","status":1,"topPx":210},{"area":null,"column":null,"extId":"2281","flag":0,"leftPx":390,"name":"A排13座","row":null,"rowName":"A","status":1,"topPx":210}],"soldCount":0,"tipMessage":"您选择的是<b>后天 10-26</b>的场次，请看仔细哦"}}};
                    }
                    if(sectionId == "02"){//表示二层
                        //行列方式数据
                        seatData = {"success":true,"code":"0","message":"","data":{"userSeat":null,"seat":{"maxCanBuy":6,"maxColumn":12,"maxLeftPx":null,"maxRow":9,"maxTopPx":null,"minColumn":1,"minLeftPx":null,"minRow":1,"minTopPx":null,"notice":"1、选座票由粤科云提供，客服热线:0571-88157838\n2、请确认场次和时间无误，购买成功后将不予退换\n3、由于设备故障等不可抗力因素，存在少量场次取消的情况，会进行退票退款\n4、由于影院系统不稳定等因素，存在出票失败的情况，会进行退款","regular":true,"seatCount":96,"seats":[{"area":"0000000000000001","column":12,"extId":"0000000000000001-1-01","flag":0,"leftPx":null,"name":"1排01座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-1-02","flag":0,"leftPx":null,"name":"1排02座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-1-03","flag":0,"leftPx":null,"name":"1排03座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-1-04","flag":0,"leftPx":null,"name":"1排04座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-1-05","flag":0,"leftPx":null,"name":"1排05座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-1-06","flag":0,"leftPx":null,"name":"1排06座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-1-07","flag":0,"leftPx":null,"name":"1排07座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-1-08","flag":0,"leftPx":null,"name":"1排08座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-1-09","flag":0,"leftPx":null,"name":"1排09座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-1-10","flag":0,"leftPx":null,"name":"1排10座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-1-11","flag":0,"leftPx":null,"name":"1排11座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-1-12","flag":0,"leftPx":null,"name":"1排12座","row":1,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-2-01","flag":0,"leftPx":null,"name":"2排01座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-2-02","flag":0,"leftPx":null,"name":"2排02座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-2-03","flag":0,"leftPx":null,"name":"2排03座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-2-04","flag":0,"leftPx":null,"name":"2排04座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-2-05","flag":0,"leftPx":null,"name":"2排05座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-2-06","flag":0,"leftPx":null,"name":"2排06座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-2-07","flag":0,"leftPx":null,"name":"2排07座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-2-08","flag":0,"leftPx":null,"name":"2排08座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-2-09","flag":0,"leftPx":null,"name":"2排09座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-2-10","flag":0,"leftPx":null,"name":"2排10座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-2-11","flag":0,"leftPx":null,"name":"2排11座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-2-12","flag":0,"leftPx":null,"name":"2排12座","row":2,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-3-01","flag":0,"leftPx":null,"name":"3排01座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-3-02","flag":0,"leftPx":null,"name":"3排02座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-3-03","flag":0,"leftPx":null,"name":"3排03座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-3-04","flag":0,"leftPx":null,"name":"3排04座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-3-05","flag":0,"leftPx":null,"name":"3排05座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-3-06","flag":0,"leftPx":null,"name":"3排06座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-3-07","flag":0,"leftPx":null,"name":"3排07座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-3-08","flag":0,"leftPx":null,"name":"3排08座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-3-09","flag":0,"leftPx":null,"name":"3排09座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-3-10","flag":0,"leftPx":null,"name":"3排10座","row":3,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-4-01","flag":0,"leftPx":null,"name":"4排01座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-4-02","flag":0,"leftPx":null,"name":"4排02座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-4-03","flag":0,"leftPx":null,"name":"4排03座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-4-04","flag":0,"leftPx":null,"name":"4排04座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-4-05","flag":0,"leftPx":null,"name":"4排05座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-4-06","flag":0,"leftPx":null,"name":"4排06座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-4-07","flag":0,"leftPx":null,"name":"4排07座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-4-08","flag":0,"leftPx":null,"name":"4排08座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-4-09","flag":0,"leftPx":null,"name":"4排09座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-4-10","flag":0,"leftPx":null,"name":"4排10座","row":4,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-5-01","flag":0,"leftPx":null,"name":"5排01座","row":5,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-5-02","flag":0,"leftPx":null,"name":"5排02座","row":5,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-5-03","flag":0,"leftPx":null,"name":"5排03座","row":5,"rowName":"5","status":0,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-5-04","flag":0,"leftPx":null,"name":"5排04座","row":5,"rowName":"5","status":0,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-5-05","flag":0,"leftPx":null,"name":"5排05座","row":5,"rowName":"5","status":0,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-5-06","flag":0,"leftPx":null,"name":"5排06座","row":5,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-5-07","flag":0,"leftPx":null,"name":"5排07座","row":5,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-5-08","flag":0,"leftPx":null,"name":"5排08座","row":5,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-5-09","flag":0,"leftPx":null,"name":"5排09座","row":5,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-5-10","flag":0,"leftPx":null,"name":"5排10座","row":5,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-6-01","flag":0,"leftPx":null,"name":"6排01座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-6-02","flag":0,"leftPx":null,"name":"6排02座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-6-03","flag":0,"leftPx":null,"name":"6排03座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-6-04","flag":0,"leftPx":null,"name":"6排04座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-6-05","flag":0,"leftPx":null,"name":"6排05座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-6-06","flag":0,"leftPx":null,"name":"6排06座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-6-07","flag":0,"leftPx":null,"name":"6排07座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-6-08","flag":0,"leftPx":null,"name":"6排08座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-6-09","flag":0,"leftPx":null,"name":"6排09座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-6-10","flag":0,"leftPx":null,"name":"6排10座","row":6,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-7-01","flag":0,"leftPx":null,"name":"7排01座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-7-02","flag":0,"leftPx":null,"name":"7排02座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-7-03","flag":0,"leftPx":null,"name":"7排03座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-7-04","flag":0,"leftPx":null,"name":"7排04座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-7-05","flag":0,"leftPx":null,"name":"7排05座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-7-06","flag":0,"leftPx":null,"name":"7排06座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-7-07","flag":0,"leftPx":null,"name":"7排07座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-7-08","flag":0,"leftPx":null,"name":"7排08座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-7-09","flag":0,"leftPx":null,"name":"7排09座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-7-10","flag":0,"leftPx":null,"name":"7排10座","row":7,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-8-01","flag":0,"leftPx":null,"name":"8排01座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-8-02","flag":0,"leftPx":null,"name":"8排02座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-8-03","flag":0,"leftPx":null,"name":"8排03座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-8-04","flag":0,"leftPx":null,"name":"8排04座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-8-05","flag":0,"leftPx":null,"name":"8排05座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-8-06","flag":0,"leftPx":null,"name":"8排06座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-8-07","flag":0,"leftPx":null,"name":"8排07座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-8-08","flag":0,"leftPx":null,"name":"8排08座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-8-09","flag":0,"leftPx":null,"name":"8排09座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-8-10","flag":0,"leftPx":null,"name":"8排10座","row":8,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-9-01","flag":2,"leftPx":null,"name":"9排01座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-9-02","flag":1,"leftPx":null,"name":"9排02座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-9-03","flag":2,"leftPx":null,"name":"9排03座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-9-04","flag":1,"leftPx":null,"name":"9排04座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-9-05","flag":2,"leftPx":null,"name":"9排05座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-9-06","flag":1,"leftPx":null,"name":"9排06座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-9-07","flag":2,"leftPx":null,"name":"9排07座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-9-08","flag":1,"leftPx":null,"name":"9排08座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-9-09","flag":2,"leftPx":null,"name":"9排09座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-9-10","flag":1,"leftPx":null,"name":"9排10座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-9-11","flag":2,"leftPx":null,"name":"9排11座","row":9,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":1,"extId":"0000000000000001-9-12","flag":1,"leftPx":null,"name":"9排12座","row":9,"rowName":"9","status":1,"topPx":null}],"soldCount":3,"tipMessage":""}}};
                    }
                    if(sectionId == "03"){
                        seatData = {"success":true,"code":"0","message":"","data":{"userSeat":null,"seat":{"maxCanBuy":6,"maxColumn":25,"maxLeftPx":null,"maxRow":15,"maxTopPx":null,"minColumn":2,"minLeftPx":null,"minRow":2,"minTopPx":null,"notice":"1、选座票由粤科云提供，客服热线:0571-88157838\n2、请确认场次和时间无误，购买成功后将不予退换\n3、由于设备故障等不可抗力因素，存在少量场次取消的情况，会进行退票退款\n4、由于影院系统不稳定等因素，存在出票失败的情况，会进行退款","regular":true,"seatCount":248,"seats":[{"area":"0000000000000001","column":3,"extId":"0000000000000001-1-01","flag":0,"leftPx":null,"name":"1排01座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-1-02","flag":0,"leftPx":null,"name":"1排02座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-1-03","flag":0,"leftPx":null,"name":"1排03座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-1-04","flag":0,"leftPx":null,"name":"1排04座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-1-05","flag":0,"leftPx":null,"name":"1排05座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-1-06","flag":0,"leftPx":null,"name":"1排06座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-1-07","flag":0,"leftPx":null,"name":"1排07座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-1-08","flag":0,"leftPx":null,"name":"1排08座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-1-09","flag":0,"leftPx":null,"name":"1排09座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-1-10","flag":0,"leftPx":null,"name":"1排10座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-1-11","flag":0,"leftPx":null,"name":"1排11座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-1-12","flag":0,"leftPx":null,"name":"1排12座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-1-13","flag":0,"leftPx":null,"name":"1排13座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-1-14","flag":0,"leftPx":null,"name":"1排14座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-1-15","flag":0,"leftPx":null,"name":"1排15座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-1-16","flag":0,"leftPx":null,"name":"1排16座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-1-17","flag":0,"leftPx":null,"name":"1排17座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-1-18","flag":0,"leftPx":null,"name":"1排18座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":21,"extId":"0000000000000001-1-19","flag":0,"leftPx":null,"name":"1排19座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":22,"extId":"0000000000000001-1-20","flag":0,"leftPx":null,"name":"1排20座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":23,"extId":"0000000000000001-1-21","flag":0,"leftPx":null,"name":"1排21座","row":2,"rowName":"1","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-2-01","flag":0,"leftPx":null,"name":"2排01座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-2-02","flag":0,"leftPx":null,"name":"2排02座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-2-03","flag":0,"leftPx":null,"name":"2排03座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-2-04","flag":0,"leftPx":null,"name":"2排04座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-2-05","flag":0,"leftPx":null,"name":"2排05座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-2-06","flag":0,"leftPx":null,"name":"2排06座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-2-07","flag":0,"leftPx":null,"name":"2排07座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-2-08","flag":0,"leftPx":null,"name":"2排08座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-2-09","flag":0,"leftPx":null,"name":"2排09座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-2-10","flag":0,"leftPx":null,"name":"2排10座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-2-11","flag":0,"leftPx":null,"name":"2排11座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-2-12","flag":0,"leftPx":null,"name":"2排12座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-2-13","flag":0,"leftPx":null,"name":"2排13座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-2-14","flag":0,"leftPx":null,"name":"2排14座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-2-15","flag":0,"leftPx":null,"name":"2排15座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-2-16","flag":0,"leftPx":null,"name":"2排16座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-2-17","flag":0,"leftPx":null,"name":"2排17座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-2-18","flag":0,"leftPx":null,"name":"2排18座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":21,"extId":"0000000000000001-2-19","flag":0,"leftPx":null,"name":"2排19座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":22,"extId":"0000000000000001-2-20","flag":0,"leftPx":null,"name":"2排20座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":23,"extId":"0000000000000001-2-21","flag":0,"leftPx":null,"name":"2排21座","row":3,"rowName":"2","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-3-01","flag":0,"leftPx":null,"name":"3排01座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-3-02","flag":0,"leftPx":null,"name":"3排02座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-3-03","flag":0,"leftPx":null,"name":"3排03座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-3-04","flag":0,"leftPx":null,"name":"3排04座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-3-05","flag":0,"leftPx":null,"name":"3排05座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-3-06","flag":0,"leftPx":null,"name":"3排06座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-3-07","flag":0,"leftPx":null,"name":"3排07座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-3-08","flag":0,"leftPx":null,"name":"3排08座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-3-09","flag":0,"leftPx":null,"name":"3排09座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-3-10","flag":0,"leftPx":null,"name":"3排10座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-3-11","flag":0,"leftPx":null,"name":"3排11座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-3-12","flag":0,"leftPx":null,"name":"3排12座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-3-13","flag":0,"leftPx":null,"name":"3排13座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-3-14","flag":0,"leftPx":null,"name":"3排14座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-3-15","flag":0,"leftPx":null,"name":"3排15座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-3-16","flag":0,"leftPx":null,"name":"3排16座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-3-17","flag":0,"leftPx":null,"name":"3排17座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-3-18","flag":0,"leftPx":null,"name":"3排18座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":21,"extId":"0000000000000001-3-19","flag":0,"leftPx":null,"name":"3排19座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":22,"extId":"0000000000000001-3-20","flag":0,"leftPx":null,"name":"3排20座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":23,"extId":"0000000000000001-3-21","flag":0,"leftPx":null,"name":"3排21座","row":4,"rowName":"3","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-4-01","flag":0,"leftPx":null,"name":"4排01座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-4-02","flag":0,"leftPx":null,"name":"4排02座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-4-03","flag":0,"leftPx":null,"name":"4排03座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-4-04","flag":0,"leftPx":null,"name":"4排04座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-4-05","flag":0,"leftPx":null,"name":"4排05座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-4-06","flag":0,"leftPx":null,"name":"4排06座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-4-07","flag":0,"leftPx":null,"name":"4排07座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-4-08","flag":0,"leftPx":null,"name":"4排08座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-4-09","flag":0,"leftPx":null,"name":"4排09座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-4-10","flag":0,"leftPx":null,"name":"4排10座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-4-11","flag":0,"leftPx":null,"name":"4排11座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-4-12","flag":0,"leftPx":null,"name":"4排12座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-4-13","flag":0,"leftPx":null,"name":"4排13座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-4-14","flag":0,"leftPx":null,"name":"4排14座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-4-15","flag":0,"leftPx":null,"name":"4排15座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-4-16","flag":0,"leftPx":null,"name":"4排16座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-4-17","flag":0,"leftPx":null,"name":"4排17座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-4-18","flag":0,"leftPx":null,"name":"4排18座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":21,"extId":"0000000000000001-4-19","flag":0,"leftPx":null,"name":"4排19座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":22,"extId":"0000000000000001-4-20","flag":0,"leftPx":null,"name":"4排20座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":23,"extId":"0000000000000001-4-21","flag":0,"leftPx":null,"name":"4排21座","row":5,"rowName":"4","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-5-01","flag":0,"leftPx":null,"name":"5排01座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-5-02","flag":0,"leftPx":null,"name":"5排02座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-5-03","flag":0,"leftPx":null,"name":"5排03座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-5-04","flag":0,"leftPx":null,"name":"5排04座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-5-05","flag":0,"leftPx":null,"name":"5排05座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-5-06","flag":0,"leftPx":null,"name":"5排06座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-5-07","flag":0,"leftPx":null,"name":"5排07座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-5-08","flag":0,"leftPx":null,"name":"5排08座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-5-09","flag":0,"leftPx":null,"name":"5排09座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-5-10","flag":0,"leftPx":null,"name":"5排10座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-5-11","flag":0,"leftPx":null,"name":"5排11座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-5-12","flag":0,"leftPx":null,"name":"5排12座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-5-13","flag":0,"leftPx":null,"name":"5排13座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-5-14","flag":0,"leftPx":null,"name":"5排14座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-5-15","flag":0,"leftPx":null,"name":"5排15座","row":7,"rowName":"5","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-6-01","flag":0,"leftPx":null,"name":"6排01座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-6-02","flag":0,"leftPx":null,"name":"6排02座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-6-03","flag":0,"leftPx":null,"name":"6排03座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-6-04","flag":0,"leftPx":null,"name":"6排04座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-6-05","flag":0,"leftPx":null,"name":"6排05座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-6-06","flag":0,"leftPx":null,"name":"6排06座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-6-07","flag":0,"leftPx":null,"name":"6排07座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-6-08","flag":0,"leftPx":null,"name":"6排08座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-6-09","flag":0,"leftPx":null,"name":"6排09座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-6-10","flag":0,"leftPx":null,"name":"6排10座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-6-11","flag":0,"leftPx":null,"name":"6排11座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-6-12","flag":0,"leftPx":null,"name":"6排12座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-6-13","flag":0,"leftPx":null,"name":"6排13座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-6-14","flag":0,"leftPx":null,"name":"6排14座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-6-15","flag":0,"leftPx":null,"name":"6排15座","row":8,"rowName":"6","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-7-01","flag":0,"leftPx":null,"name":"7排01座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-7-02","flag":0,"leftPx":null,"name":"7排02座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-7-03","flag":0,"leftPx":null,"name":"7排03座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-7-04","flag":0,"leftPx":null,"name":"7排04座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-7-05","flag":0,"leftPx":null,"name":"7排05座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-7-06","flag":0,"leftPx":null,"name":"7排06座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-7-07","flag":0,"leftPx":null,"name":"7排07座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-7-08","flag":0,"leftPx":null,"name":"7排08座","row":9,"rowName":"7","status":0,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-7-09","flag":0,"leftPx":null,"name":"7排09座","row":9,"rowName":"7","status":0,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-7-10","flag":0,"leftPx":null,"name":"7排10座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-7-11","flag":0,"leftPx":null,"name":"7排11座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-7-12","flag":0,"leftPx":null,"name":"7排12座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-7-13","flag":0,"leftPx":null,"name":"7排13座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-7-14","flag":0,"leftPx":null,"name":"7排14座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-7-15","flag":0,"leftPx":null,"name":"7排15座","row":9,"rowName":"7","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-8-01","flag":0,"leftPx":null,"name":"8排01座","row":10,"rowName":"8","status":0,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-8-02","flag":0,"leftPx":null,"name":"8排02座","row":10,"rowName":"8","status":0,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-8-03","flag":0,"leftPx":null,"name":"8排03座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-8-04","flag":0,"leftPx":null,"name":"8排04座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-8-05","flag":0,"leftPx":null,"name":"8排05座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-8-06","flag":0,"leftPx":null,"name":"8排06座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-8-07","flag":0,"leftPx":null,"name":"8排07座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-8-08","flag":0,"leftPx":null,"name":"8排08座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-8-09","flag":0,"leftPx":null,"name":"8排09座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-8-10","flag":0,"leftPx":null,"name":"8排10座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-8-11","flag":0,"leftPx":null,"name":"8排11座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-8-12","flag":0,"leftPx":null,"name":"8排12座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-8-13","flag":0,"leftPx":null,"name":"8排13座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-8-14","flag":0,"leftPx":null,"name":"8排14座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-8-15","flag":0,"leftPx":null,"name":"8排15座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-8-16","flag":0,"leftPx":null,"name":"8排16座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-8-17","flag":0,"leftPx":null,"name":"8排17座","row":10,"rowName":"8","status":1,"topPx":null},{"area":"0000000000000001","column":24,"extId":"0000000000000001-8-18","flag":0,"leftPx":null,"name":"8排18座","row":10,"rowName":"8","status":0,"topPx":null},{"area":"0000000000000001","column":25,"extId":"0000000000000001-8-19","flag":0,"leftPx":null,"name":"8排19座","row":10,"rowName":"8","status":0,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-9-01","flag":0,"leftPx":null,"name":"9排01座","row":11,"rowName":"9","status":0,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-9-02","flag":0,"leftPx":null,"name":"9排02座","row":11,"rowName":"9","status":0,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-9-03","flag":0,"leftPx":null,"name":"9排03座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-9-04","flag":0,"leftPx":null,"name":"9排04座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-9-05","flag":0,"leftPx":null,"name":"9排05座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-9-06","flag":0,"leftPx":null,"name":"9排06座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-9-07","flag":0,"leftPx":null,"name":"9排07座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-9-08","flag":0,"leftPx":null,"name":"9排08座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-9-09","flag":0,"leftPx":null,"name":"9排09座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-9-10","flag":0,"leftPx":null,"name":"9排10座","row":11,"rowName":"9","status":0,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-9-11","flag":0,"leftPx":null,"name":"9排11座","row":11,"rowName":"9","status":0,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-9-12","flag":0,"leftPx":null,"name":"9排12座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-9-13","flag":0,"leftPx":null,"name":"9排13座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-9-14","flag":0,"leftPx":null,"name":"9排14座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-9-15","flag":0,"leftPx":null,"name":"9排15座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-9-16","flag":0,"leftPx":null,"name":"9排16座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-9-17","flag":0,"leftPx":null,"name":"9排17座","row":11,"rowName":"9","status":1,"topPx":null},{"area":"0000000000000001","column":24,"extId":"0000000000000001-9-18","flag":0,"leftPx":null,"name":"9排18座","row":11,"rowName":"9","status":0,"topPx":null},{"area":"0000000000000001","column":25,"extId":"0000000000000001-9-19","flag":0,"leftPx":null,"name":"9排19座","row":11,"rowName":"9","status":0,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-10-01","flag":0,"leftPx":null,"name":"10排01座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-10-02","flag":0,"leftPx":null,"name":"10排02座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-10-03","flag":0,"leftPx":null,"name":"10排03座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-10-04","flag":0,"leftPx":null,"name":"10排04座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-10-05","flag":0,"leftPx":null,"name":"10排05座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-10-06","flag":0,"leftPx":null,"name":"10排06座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-10-07","flag":0,"leftPx":null,"name":"10排07座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-10-08","flag":0,"leftPx":null,"name":"10排08座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-10-09","flag":0,"leftPx":null,"name":"10排09座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-10-10","flag":0,"leftPx":null,"name":"10排10座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-10-11","flag":0,"leftPx":null,"name":"10排11座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-10-12","flag":0,"leftPx":null,"name":"10排12座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-10-13","flag":0,"leftPx":null,"name":"10排13座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-10-14","flag":0,"leftPx":null,"name":"10排14座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-10-15","flag":0,"leftPx":null,"name":"10排15座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-10-16","flag":0,"leftPx":null,"name":"10排16座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-10-17","flag":0,"leftPx":null,"name":"10排17座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":24,"extId":"0000000000000001-10-18","flag":0,"leftPx":null,"name":"10排18座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":25,"extId":"0000000000000001-10-19","flag":0,"leftPx":null,"name":"10排19座","row":12,"rowName":"10","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-11-01","flag":0,"leftPx":null,"name":"11排01座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-11-02","flag":0,"leftPx":null,"name":"11排02座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-11-03","flag":0,"leftPx":null,"name":"11排03座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-11-04","flag":0,"leftPx":null,"name":"11排04座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-11-05","flag":0,"leftPx":null,"name":"11排05座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-11-06","flag":0,"leftPx":null,"name":"11排06座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-11-07","flag":0,"leftPx":null,"name":"11排07座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-11-08","flag":0,"leftPx":null,"name":"11排08座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-11-09","flag":0,"leftPx":null,"name":"11排09座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-11-10","flag":0,"leftPx":null,"name":"11排10座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-11-11","flag":0,"leftPx":null,"name":"11排11座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-11-12","flag":0,"leftPx":null,"name":"11排12座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-11-13","flag":0,"leftPx":null,"name":"11排13座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-11-14","flag":0,"leftPx":null,"name":"11排14座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-11-15","flag":0,"leftPx":null,"name":"11排15座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-11-16","flag":0,"leftPx":null,"name":"11排16座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-11-17","flag":0,"leftPx":null,"name":"11排17座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":24,"extId":"0000000000000001-11-18","flag":0,"leftPx":null,"name":"11排18座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":25,"extId":"0000000000000001-11-19","flag":0,"leftPx":null,"name":"11排19座","row":13,"rowName":"11","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-12-01","flag":0,"leftPx":null,"name":"12排01座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-12-02","flag":0,"leftPx":null,"name":"12排02座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-12-03","flag":0,"leftPx":null,"name":"12排03座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-12-04","flag":0,"leftPx":null,"name":"12排04座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-12-05","flag":0,"leftPx":null,"name":"12排05座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-12-06","flag":0,"leftPx":null,"name":"12排06座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-12-07","flag":0,"leftPx":null,"name":"12排07座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-12-08","flag":0,"leftPx":null,"name":"12排08座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-12-09","flag":0,"leftPx":null,"name":"12排09座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-12-10","flag":0,"leftPx":null,"name":"12排10座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-12-11","flag":0,"leftPx":null,"name":"12排11座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-12-12","flag":0,"leftPx":null,"name":"12排12座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-12-13","flag":0,"leftPx":null,"name":"12排13座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-12-14","flag":0,"leftPx":null,"name":"12排14座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-12-15","flag":0,"leftPx":null,"name":"12排15座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-12-16","flag":0,"leftPx":null,"name":"12排16座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-12-17","flag":0,"leftPx":null,"name":"12排17座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":24,"extId":"0000000000000001-12-18","flag":0,"leftPx":null,"name":"12排18座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":25,"extId":"0000000000000001-12-19","flag":0,"leftPx":null,"name":"12排19座","row":14,"rowName":"12","status":1,"topPx":null},{"area":"0000000000000001","column":2,"extId":"0000000000000001-13-01","flag":1,"leftPx":null,"name":"13排01座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":3,"extId":"0000000000000001-13-02","flag":2,"leftPx":null,"name":"13排02座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":4,"extId":"0000000000000001-13-03","flag":1,"leftPx":null,"name":"13排03座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":5,"extId":"0000000000000001-13-04","flag":2,"leftPx":null,"name":"13排04座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":6,"extId":"0000000000000001-13-05","flag":1,"leftPx":null,"name":"13排05座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":7,"extId":"0000000000000001-13-06","flag":2,"leftPx":null,"name":"13排06座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":8,"extId":"0000000000000001-13-07","flag":1,"leftPx":null,"name":"13排07座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":9,"extId":"0000000000000001-13-08","flag":2,"leftPx":null,"name":"13排08座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":10,"extId":"0000000000000001-13-09","flag":1,"leftPx":null,"name":"13排09座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":11,"extId":"0000000000000001-13-10","flag":2,"leftPx":null,"name":"13排10座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":12,"extId":"0000000000000001-13-11","flag":1,"leftPx":null,"name":"13排11座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":13,"extId":"0000000000000001-13-12","flag":2,"leftPx":null,"name":"13排12座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":14,"extId":"0000000000000001-13-13","flag":1,"leftPx":null,"name":"13排13座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":15,"extId":"0000000000000001-13-14","flag":2,"leftPx":null,"name":"13排14座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":16,"extId":"0000000000000001-13-15","flag":1,"leftPx":null,"name":"13排15座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":17,"extId":"0000000000000001-13-16","flag":2,"leftPx":null,"name":"13排16座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":18,"extId":"0000000000000001-13-17","flag":1,"leftPx":null,"name":"13排17座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":19,"extId":"0000000000000001-13-18","flag":2,"leftPx":null,"name":"13排18座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":20,"extId":"0000000000000001-13-19","flag":1,"leftPx":null,"name":"13排19座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":21,"extId":"0000000000000001-13-20","flag":2,"leftPx":null,"name":"13排20座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":22,"extId":"0000000000000001-13-21","flag":1,"leftPx":null,"name":"13排21座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":23,"extId":"0000000000000001-13-22","flag":2,"leftPx":null,"name":"13排22座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":24,"extId":"0000000000000001-13-23","flag":1,"leftPx":null,"name":"13排23座","row":15,"rowName":"13","status":1,"topPx":null},{"area":"0000000000000001","column":25,"extId":"0000000000000001-13-24","flag":2,"leftPx":null,"name":"13排24座","row":15,"rowName":"13","status":1,"topPx":null}],"soldCount":12,"tipMessage":"1.3米以下儿童在成人的陪同下，观看2D、3D电影免票无座，一名成人限带一名儿童。"}}};
                    }
                    //座位图渲染
                    if(seatData){
                        getSeatMap(seatData.data);
                    }
                });
            })(i);
        }
    };
    //座位侧边索引
    var getSeatIndex = function(){
       var seatIndexName = null,//以x排x座key值获取对应座位信息
           seatIndexInfo = null,//座位信息
           seatIndexRow = '',//排数信息
           seatIndexHtml = '',
           minFlag = true,//取第一排座位标志
           min = 0,//取第一排座位索引
           seatIndex = null,//座位索引
           seatRowName = null,//座位排名称
           seatSpace = 0,//上下排座位相隔空间
           seatIndexArr = [];
       if(seatMap && maxRow){
            for(var i=1;i<=maxRow;i++){
                b:for(var j=1;j<=maxRow;j++){
                    seatIndexName = (i)+'排'+(j)+'座';
                    if(seatMap.get(seatIndexName)){
                        if(seatMap.get(seatIndexName).row){
                            seatIndexRow = seatMap.get(seatIndexName).row;
                        } else {
                            seatIndexRow = seatMap.get(seatIndexName).topPx/30;
                        }
                        if(minFlag){
                            min = seatIndexRow;
                            minFlag = false;
                        }
                        seatIndexInfo = seatMap.get(seatIndexName).rowName;
                        seatIndexArr.push({index:seatIndexRow-min+1,rowName:seatIndexInfo});
                        break b;
                    }                 
                }
            }
            //空座位索引
            for(var i=0;i<seatIndexArr.length;i++){
                seatIndex = seatIndexArr[i].index;
                seatRowName = seatIndexArr[i].rowName;
                seatIndexHtml+='<li>'+seatRowName+'</li>';
                if(i<seatIndexArr.length-1){
                     seatSpace = seatIndexArr[i+1].index - seatIndex;
                     for(var j=0;j<seatSpace-1;j++){
                        seatIndexHtml+='<li></li>';//座位索引相距大于1,添加空座位
                     }    
                }
            }
            document.querySelector('ul.seat-index').innerHTML = seatIndexHtml;
            seatIndexScale();
       }
    }
    //座位索引缩小放大
    var seatIndexScale = function(){
        var seatLi = document.querySelectorAll('ul.seat-index li'),
            seatSize = '22px';
        if(seatLi && seatLi.length>0){
            if(smallerFlag){
                seatSize = '11px';
            } else {
                seatSize = '22px';
            }
            for(var i=0;i<seatLi.length;i++){
                seatLi[i].style.height = seatSize;
                seatLi[i].style.lineHeight = seatSize;
            }  
        }
    }
    return {    
        getSeatMap:getSeatMap,
        canvasEventClick:canvasEventClick,
        seatFloorArea:seatFloorArea,
        seatFloorTab:seatFloorTab,
        getSeatIndex:getSeatIndex
    }
})();


//数组去重 
function uniqueArray(arr){ 
	return Array.from(new Set(arr)); 
}

//根据下标删除数组里的元素 delArr-要删除的vlaue值 arr-操作数组 
function removeArray(delArr,arr){
	if(delArr && arr){
		var arrId;//数组元素id
		for(var i=0;i<arr.length;i++){
			arrId = arr[i].extId;
			if(delArr == arrId){
				return arr.splice(i,1);
			}
		}
	} else {
		return null;
	}
}
